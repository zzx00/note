# c++基础

## c++初识

### 第一个c++程序

> 自己写一个hello world

### main()函数

> c++句法要求main()函数的定义以函数头int main()开始。
>
> **ANSI/ISO规定如果编译器到达main()函数末尾时没有看到返回语句，认为函数以return 0;结尾**

**省略return 0;只适用与main()函数**

**c++程序必须包含一个名为main()的函数，运行c++程序是从main()函数开始执行**



### 名称空间

用于区分不同名称空间中相同名称的东西 

**类、函数和变量是c++编译器的标准组件，被放置在命名空间std中**

> 加入using namespace std;便可直接使用cin，cout等不必加入std::前缀。



### 注释

~~~c++
//单行注释
/*
多行注释
*/
~~~

> 编译器在编译时会将注释删掉



### 变量

作用：给一段指定的内存空间起名，方便操作这段内存

语法：数据类型  变量名=初始值;

~~~c++
int a=1;
int a;
~~~



### 常量

作用：用于记录程序中不可更改的值

定义方式：

1. 宏定义

2. const修饰的变量

   ~~~c++
   #define 常量名 常量值
   const int a=10;
   ~~~

   

### 关键字

在给变量起名时，不要使用关键字。



### 标识符命名规则

+ 标识符不能是关键字
+ 标识符只能由字母，数字，下划线组成
+ 第一个字符必须是字母或下划线
+ 标识符中区分大小写



---

## 数据类型

### 整型

作用：整型变量表示的是整数类型的数据。



|       数据类型        |                      占用空间                       |                           取值范围                           |
| :-------------------: | :-------------------------------------------------: | :----------------------------------------------------------: |
|    short（短整型）    |                        2字节                        |                         -32768~32767                         |
|      int（整型）      |                        4字节                        |                    -2147483648~2147483647                    |
|    long（长整型）     | windows中4字节，Linux中为4字节（32位）8字节（64位） |                    -2147483648~2147483647                    |
| long long（长长整型） |                        8字节                        | -9 223 372 036 854 775 808~9 223 372 036 854 775 807（-2^63^~2^63^-1） |



### sizeof()关键字

作用：利用sizeof关键字可以统计数据类型所占内存大小，返回字节数

~~~c++
    int a;
    long long b;
    long c;
    short d;
    cout<<sizeof(a)<<endl;
    cout<<sizeof(b)<<endl;
    cout<<sizeof(c)<<endl;
    cout<<sizeof(d)<<endl;
~~~



### 浮点型

作用：用于表示小数

1. float
2. double

| 数据类型 | 占用空间 | 有效数字范围    |
| -------- | -------- | --------------- |
| float    | 4字节    | 7位有效数字     |
| double   | 8字节    | 15~16位有效数字 |

**如果直接输出，最多只能表示六位有效数字**

**加入fixed会强制输出数字**

#### 输出小数点后几位

**使用iomanip头文件中的setprecision可以选择输出小数个数**

~~~c++
#include <iostream>
#include <iomanip>
using namespace std;

int main(){
    float a1=3.1415926f;
    //加f不用从double转化为float
    double a2=3.1415926;
    cout<<fixed<<setprecision(6)<<a1<<endl<<a2<<endl;
    //后面会自动四舍五入
    return 0;
}
~~~





### 字符型

作用：字符变量用于表示单个字符。

语法：char ch='a';

> 显示字符型变量时应用单引号将字符括起来。
>
> 单引号内只能有一个字符

**强制类型转换转成int型会显示ASCII码编号，也可以直接用ASCII码赋值**

**一个字符型变量占一个字节**

**字符型变量并不把字符本身放入内存中，而是把ASCII编码放入存储单元。**






### 转义字符

作用：用于表示一些==不能显示出来的ASCII字符==

| 转义字符 | 含义                                 | ASCII（十进制） |
| -------- | ------------------------------------ | --------------- |
| \a       | 警报                                 | 007             |
| \b       | 退格（BS），将当前位置移到前一列     | 008             |
| \f       | 换页（FF），将当前位置移到下页开头   | 012             |
| \n       | 换行（LF），将当前位置移到下一行开头 | 010             |
| \r       | 回车（CR），将当前位置移到本行开头   | 013             |
| \t       | 水平制表（HT），跳到下一个TAB位置    | 009             |
| \v       | 垂直制表（VT）                       | 011             |
| **\\\\** | 代表一个反斜杠                       | 092             |
| \\"      | 代表一个双引号字符                   | 034             |
| \?       | 代表一个问号                         | 063             |
| \\'      | 代表一个单引号字符                   | 039             |
| \0       | 数字0                                | 000             |
| \ddd     | 8进制转义字符，d范围0~7              | 3位8进制        |





### 字符串类型

作用：用于表示一串字符

1. c语言中字符串被定义为字符数组     例：char ch[]="abc";
2. c++中 :

~~~c++
string str="abcdef";
~~~

**字符数组可直接输入或输出**

~~~c++
    char ch[20];
    cin>>ch;
    cout<<ch<<endl;
~~~



### bool类型

作用：布尔数据类型代表真或假的值

bool类型只有两个值：

1. true真（1）
2. false假（0）

**bool类型占一个字节**



### 数据的输入输出

作用：从键盘上获取数据

关键字：cin

~~~c++
cin>>变量名;
~~~



作用：输出数据

关键字：cout

~~~c++
cout<<变量名;
~~~



## 运算符

作用：用于执行代码的运算



| 运算符类型 | 作用                             |
| ---------- | -------------------------------- |
| 算术运算符 | 用于处理四则运算                 |
| 赋值运算符 | 用于将表达式的值赋给变量         |
| 比较运算符 | 用于表达式的比较，并返回一个真值 |
| 逻辑运算符 | 用于根据表达式的值返回真值或假值 |



### 算术运算符

作用：用于处理四则运算。

算术运算符包含以下符号：

| 运算符 | 术语     |
| ------ | -------- |
| +      | 正号     |
| -      | 负号     |
| +      | 加       |
| -      | 减       |
| *      | 乘       |
| /      | 除       |
| %      | 取模     |
| ++     | 前置递增 |
| ++     | 后置递增 |
| --     | 前置递减 |
| --     | 后置递减 |



### 赋值运算符

作用：用表达式的值赋给变量

| 运算符 | 术语   |
| ------ | ------ |
| =      | 赋值   |
| +=     | 加等于 |
| -=     | 减等于 |
| *=     | 乘等于 |
| /=     | 除等于 |
| %=     | 模等于 |



	### 比较运算符

~~~c++
==
！=
>
<
<=
>=    
~~~



### 逻辑运算符

~~~c++
!
||
&&
~~~



## 程序流程结构

c/c++支持三种最基本的程序运行结构：==顺序结构，选择结构，循环结构==

 

### 选择结构

#### if语句

作用：执行满足条件的语句

if语句的三种形式：

+ 单行格式if语句
+ 多行格式if语句
+ 多条件的if语句



#### 三目运算符

作用：通过三目运算符实现简单的判断

语法：

~~~c++
表达式1 ? 表达式2 : 表达式3
~~~

解释：

如果表达式1的值为真，执行表达式2，并返回表达式2的结果。

如果表达式1的值为假，执行表达式3，并返回表达式3的结果。



#### switch语句

作用：执行多条件分支的语句。

语法：

~~~c++
switch(){
    case 结果1:
        执行语句1;
        break;
    case 结果2:
        执行语句2;
        break;
        ...
    default:执行语句;
        break;
}
~~~



### 循环结构

#### while循环

~~~c++
while(){

}
~~~



#### do while循环

~~~c++
do{

}while()
~~~

程序肯定会先执行一次。



#### for循环

~~~c++
for(起始表达式;条件表达式;末尾循环体){

}
~~~



### 跳转结构

#### break

#### continue



## 数组

### 概述

数组就是一个集合，里面放了相同类型的数据元素。



特点：

1. 数组中每个元素都是相同的数据类型
2. 数组是由连续的内存位置组成的



### 一维数组

数组名作用：

1. 可以通过数组名统计整个数组占内存大小
2. 可以通过数组名查看数组首地址



### 二维数组

在一维的数组上多加一个维度

定义方式：

~~~c++
数据类型  数组名[行数][列数];
数据类型  数组名[行数][列数]={{},{}}
数据类型  数组名[行数][列数]={ , , , }
数据类型  数组名[][列数]={ , , , }    
~~~

数组名作用：

1. 可以通过数组名统计整个数组占内存大小
2. 可以通过数组名查看数组首地址



## 函数



### 函数的分文件编写

作用：让代码结构更加清晰

函数分文件编写有4个步骤：

1. 创建后缀名为.h的头文件
2. 创建后缀名为.cpp的源文件
3. 在头文件中写函数的声明
4. 在源文件中写函数的实现

[本地实现][C:\Users\z'z'x\Desktop\笔记\c++\cpp文件\函数分文件操作]



## 指针

### 指针的基本概念

指针的作用：可以通过指针间接访问内存



+ 指针是从0开始的，一般用十六进制数字表示
+ 可以利用指针变量保存地址



### 指针的定义

~~~c++
    int *p;
    int a=10;
    p=&a;
    cout<<p<<endl;
~~~

**使用指针**

**可以通过解引用的方式找到指针所指的内存**

**指针前加*代表解引用，找到指针所指的内存**

~~~c++
    int *p;
    int a=10;
    p=&a;
    cout<<p<<endl;
    cout<<&a<<endl;
    cout<<*p<<endl;
    cout<<a<<endl;
~~~



### 指针所占空间

~~~c++
    int a=10;
    int *p=&a;
    cout<<sizeof(p)<<endl;
    cout<<sizeof(char *)<<endl;
    cout<<sizeof(double *)<<endl;
    cout<<sizeof(float *)<<endl;
//在32位中任何指针占4字节，在64位中占8个字节
~~~



### 空指针和野指针

空指针：指针变量指向内存中编号为0的空间

用途：初始化指针变量

注意：空指针指向的内存不可访问(NULL)

~~~c++
    int *p=NULL;
    cout<<p<<endl;
	cout<<*p<<endl;
//访问空指针报错
//内存中0~255为系统占用内存，不允许用户访问
~~~

**空指针不能访问**



### 野指针

指针变量指向非法的内存空间



有的地址没有权限查看，编译能通过但不能运行。

野指针非常危险。

**空指针和野指针都不要访问**



### const修饰指针

const修饰指针有三种情况：

1. const修饰指针   --常量指针
2. const修饰常量   --指针常量
3. const既修饰指针，也修饰常量   --修饰常量



**常量指针**

~~~c++
    int a=10;
    int b=10;
    const int *p=&a;
    //指针指向可以修改，指针指向的值不能修改
    p=&b;   //正确  
~~~



**指针常量**

~~~c++
    int * const p=&a;
    //指针的指向不可以改，指针指向的值可以改
    *p=20;
~~~



**修饰常量**

~~~c++
const int * const p=&a;
//指针的指向和指针指向的值都不可以改
~~~



### 指针和函数

~~~c++
//值传递
void swap(int a,int b){
    int temp=a;
    a=b;
    b=temp;
}
//地址传递
void swap(int *a,int *b){
    int temp=*a;
    *a=*b;
    *b=temp;
}

    swap(a,b);
    swap(&a,&b);
~~~

**如果想修改实参，就用地址传递，如果不想修改实参，就用值传递**





## 结构体

结构体属于用户==自定义数据类型==，允许用户存储不同的数据类型



### 结构体数组



### 结构体指针

==使用->通过结构体指针访问结构体属性==



### 结构体嵌套结构体

~~~c++
struct student
{
    int age;
    string name;
    int score;
};

struct teacher
{
    int id;
    string name;
    int age;
    student stu[100];
};
~~~

### 结构体做函数参数



### 结构体中从上图使用

**使用const防止误操作**